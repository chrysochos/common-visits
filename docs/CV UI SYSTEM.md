## Βοήθεια για UI Common Visits SYSTEM
Το σύστημα βοηθά την Cyta και τους Παρόχους να πραγματοποιούν Κοινές Επισκέψεις (ΚΕ), για να διευκολύνουν από κοινού τις εγκαταστάσεις υπηρεσιών και τις επιδιορθώσεις βλαβών.

## Στοιχεία της ΚΕ
Ο χρήστης του συστήματος μπορεί να δημιουργήσει μια αίτηση ΚΕ (Common Visit) και μετά να την επεξεργαστεί για να:

    1. Δώσει ή να διορθώσει τα στοιχεία της
    2. Αλλάξει την κατάσταση (status) της
    3. Να καταγράψει τα επιτόπου ευρήματα της ΚΕ και να
    4. Προσθέσει σχόλια και συνημμένα αρχεία (μόνο μετά το πρώτο submit της αίτησης ΚΕ).
 

Τα συνημμένα αρχεία που ο χρήστης μπορεί να ανεβάζει να είναι των πιο κάτω τύπων:

['.pdf', '.doc', '.docx', '.jpg', '.jpeg', '.png', '.xlsx', '.xls','.txt', '.zip'] 

## Κύκλος Ζωής μιας ΚΕ
Η ΚΕ μπορεί να δημιουργηθεί / επεξεργαστεί τόσο από το προσωπικό της Cyta όσο και από άλλους Παρόχους.

Σε όλες τις ΚΕ πρέπει να δίνεται ο αριθμός αναφοράς από το TFO. Προς το παρόν το σύστημα ΚΕ είναι ασύνδετο με το TFO και γι' αυτό ο αριθμός αναφοράς πρέπει να δίνεται χειροκίνητα.

Επιπρόσθετα, πρέπει να δίνονται οι πιο κάτω τιμές:

    1. Ο αριθμός κυκλώματος εάν πρόκειται για βλάβη, εγκατάσταση, ή για υπόδειξη κυκλώματος.
    2. Ο αριθμός διατακτικού όταν πρόκειται για επιθεώρηση (survey).

Ο αιτητής δημιουργεί και αποθηκεύει την επίσκεψη σε κατάσταση Draft ή σε Pending. Μπορεί να δώσει την ημερομηνία της επίσκεψης (cv_date) ή να την αφήσει κενή. Η ημερομηνία της ΚΕ, αν δεν δοθεί από τον αιτητή, μπαίνει αυτόματα από το σύστημα για την επόμενη εργάσιμη ημέρα, λαμβάνοντας υπόψη αργίες και σαββατοκύριακα. <span style="color:red"> Τόσο η επιλογή της ημέρας όσο και των συνεργείων της Cyta και των Παρόχων πρέπει να αυτοματοποιηθούν όσο το δυνατό περισσότερο. </span> Τόσο η ημερομηνία όσο και τα συνεργεία της επιτόπου επίσκεψης μπορούν να διορθωθούν στην συνέχεια. Ο κάθε Πάροχος έχει την δυνατότητα να διορθώνει το άτομο του συνεργείου του ακόμη και κατά την ώρα της εκτέλεσης της επιτόπου ΚΕ. Για την ημέρα της ΚΕ μπορεί να ζητά αλλαγή, η οποία θα εξετάζεται από την Cyta, η οποία με την σειρά της θα καθορίζει την τελική ημερομηνία.

Με την κατάσταση Pending ο αιτητής στέλνει το αίτημα στον παραλήπτη.

Ο παραλήπτης αλλάζει την κατάσταση σε Accepted ή Rejected δίνοντας και τον λόγο απόρριψης.

Ο αιτητής της ΚΕ μπορεί να δει άν έχει γίνει αποδεχτή η πρόσκληση ΚΕ. 

Όποτε θέλει ο αιτητής μπορεί να κάνει Cancelled και ο παραλήπτης Rejected μια ΚΕ, νοουμένου ότι θα δώσουν και τον λόγο της συγκεκριμένης ενέργειας.

Η Cyta βλέπει ποιες ΚΕ έχουν γίνει Accepted και αφορούν την τρέχουσα ημέρα τα αποδεσμεύει για εκτέλεση (Execution), νοουμένου ότι το σύστημα έχει ελέγξει ότι όλα τα απαραίτητα στοιχεία έχουν δοθεί από τις δύο πλευρές.

Οι δύο πλευρές πρέπει να βλέπουν κάθε εργάσιμο πρωινό τις ΚΕ που είναι σε κατάσταση Execution και να σιγουρεύουν ότι ενημερώνονται τα συνεργεία τους είναι διαθέσιμα και ενήμερα για την ΚΕ.

Ότα γίνεται η επιτόπου ΚΕ το άτομο της Cyta συμπληρώνει τον έντυπο και ενημερώνει το άτομο του Παρόχου για τα ευρήματα. Στην συνέχεια συμπληρώνει (κάνει Completed) την ΚΕ.

Ο Πάροχος μπορεί να δει μέσα από το σύστημα τα ευρήματα της ΚΕ. 

Το σύστημα μπορεί να δεχθεί συνημμένα αρχεία (κείμενα και φωτογραφίες) καθώς και σχόλια που αφορούν μια ΚΕ ακόμη και μετά που αυτή θα έχει ολοκληρωθεί. Όμως τα στοιχεία αυτά δεν είναι δεσμευτικά και ενδεχόμενα να μην τα δει κάποιος ή να μην τα λάβει υπόψη του. <span style="color:red">Πρέπει τα χαρακτηριστικά αυτά να δίνονται και μέσω του API.</span>


## Χρήση του συστήματος

### Εισαγωγή στο σύστημα
Ο χρήστης με την εισαγωγή στο σύστημα https://visit-api/chrysochos.net προσπαθήσει να κάνει κλικ σε κάποιο link θα μεταφερθεί στην σελίδα εισόδου (login page). Εκεί θα πρέπει να δώσει το όνομα χρήστη και τον κωδικό του. Εάν δεν έχει λογαριασμό, θα πρέπει να επικοινωνήσει με τον διαχειριστή του συστήματος της ομάδας του.


### Επιλογή γλώσσας
Το σύστημα είναι δίγλωσσο με Ελληνικά και Αγγλικά. Μπορείς να επιλέξεις την γλώσσα που θέλεις αλλάζοντας το /en/ με /el/ στο url της σελίδας, ή από το μενού στην κορυφή της σελίδας που θα δούμε αμέσως στην συνέχεια πιο κάτω.

### Αρχική σελίδα και πλοήγηση

Η εισαγωγική σελίδα όπως και όλες οι σελίδες έχουν στην πάνω πλευρά μενού για πλοήγηση μέσα στην εφαρμογή. Ανάλογα με την γλώσσα που χρησιμοποιείται θα δείτε το μενού στα Ελληνικά ή στα Αγγλικά. Αυτό έχει Επισκέψεις (Visits), Νέα Επίσκεψη (New Visit), Φίλτρα (Saved Query), Αναφορές (Reports) και το όνομα του χρήστη.

Κάνοντας κλικ στο όνομα του χρήστη θα ανοίξει ένα drop-down μενού όπου μπορείτε να αλλαξετε το password, να δείτε διάφορα βοηθητικά αρχεία, να αλλάξετε γλώσσα και να βγείτε από το σύστημα. Κάποιοι χρήστες μπορούν να δουν και κάποια link για διαχείριση χρηστών, ΚΕ ή και ολόκληρου του συστήματος, ανάλογα με τα δικαιώματα που τους δίνονται.

Κάνοντας κλικ στις Επίσκέψεις (Visits) ανοίγει η λίστα με τις ΚΕ που αφορούν την εταιρεία του χρήστη, είτε ως αιτητής είτε ως παραλήπτης. Από εκεί μπορείτε να δείτε τις ΚΕ και να επιλέξετε κάποια για περαιτέρω επεξεργασία. Η λίστα των ΚΕ έχει διάφορες δυνατότητες για φιλτράρισμα και εύρεση που θα δούμε σην συνέχεια.

Κάνοντας κλικ στην Νέα Επίσκεψη (New Visit) ανοίγει ένα drop-down μενού όπου εμφανίζονται οι τύποι των διάφορων ΚΕ που είναι Επιθεώρηση (Survey), Βλάβη (Fault), Εγκατάσταση (Installation) και οι χήστες των Παρόχων βλέπου και την Υπόδειξη (Indication).

Εκτός από τα συνεργεία οι υπόλοιποι βλέπουν και τις Αναφορές (Reports) όπου υπάρχουν διάφορα στατιστικά στοιχεία για τις ΚΕ και δυνατότητα εξαγωγής τους σε αρχεία csv και Excel.


#### Κάτω από το όνομα του χρήστη

##### Στοιχεία Διαχείρισης
Κάτω από το όνομα του χρήστη η πρώτη ομάδα συνδέσμων αφορούν την διαχείριση συστήματος, ΚΕ και χρηστών
    
        1. Admin Panel
        2. CV Admin
        3. User Admin

Οι δυνατότητες αυτές δίνονται σε ειδικούς χρήστες και δεν είναι διαθέσιμες σε όλους τους χρήστες.
Ο Admin Panel είναι για την διαχείριση του συστήματος και μπορεί να αλλάξει οτιδήποτε στην βάση δεδομένων, ο CV Admin για την διαχείριση των ΚΕ και μπορεί να αλλάξει οτιδήποτε και κυρίως την κατάσταση των ΚΕ. Ο User Admin για την διαχείριση των χρηστών. 

Είναι σημαντική η οντότητα χρήστης στην βάση δεδομένων του συστήματος, διότι απαιτείται κυρίως στα ονόματα των συνεργείων τόσο της Cyta όσο και των Παρόχων. 

Στο μέλλον οντότητες της βάσης δεδομένων θα είναι και τα στοιχεία του TFO, όπως είναι διευθύνσεις, αριθμοί οδών, κυκλωμάτων κτλ. Προτιμήθηκε στο παρόν στάδιο τα στοιχεία αυτά να είναι αναλυτικά μέσα στην βάση δεδομένων. Ακόμη και να γίνει σύνδεση με το TFO ή και άλλα συστήματα ή API θα υπάρχει και τοπική παρουσία στο σύστημα. Αυτό είναι ένα θέμα που θα το δούμε σε μεταγενέστερο στάδιο. Θα μπορούσε να γίνει η προετοιμασία από τώρα, όμως φάνηκε ότι τα υφιστάμενα API του TFO είχαν ελλείψεις, όπως στο να δώσουν το CRN, coordinates, StreetID. Σχετική μελέτη έδειξε ότι πρέπει να γίνει τοπικό TFO record το οποίο πρέπει να γεμίζει με τα στοιχεία του πραγματικού TFO, όμως δεν έγινε η πρόνοια στο υφιστάμενο UI, διότι θα ανάγκαζε το χρήστη να συμπληρώνει δύο ξεχωριστούς πίνακες κάθε φορά. Το θέμα αυτό πρέπει να εξεταστεί σε μεταγενέστερο στάδιο.

##### Στοιχεία για API
Κάτω από το όνομα του χρήστη υπάρχει μια ομάδα από links που αφορούν το API. Αυτά είναι:

    1. Swagger UI
    2. ReDoc
    3. CV API

Το Swagger UI είναι για να δίνονται εντολές στο API και να δοκιμάζεται. Το ReDoc είναι για να δείτε την τεκμηρίωση του API. Το CV API είναι για να δείτε την περιγραφή του API.

Για τον καλύτερο και πληρέστερο έλεγχο των API υπάρχει η δυνατότητα στους developers να χρησιμοποιήσουν ειδικό αρχείο το οποίο χειρίζεται τόσο τα API όσο και την βάση δεδομένων και με πολύ απλές εντολές μιας γραμμής να ελέγχουν οποιοδήποτε ολοκληρωμένο σενάριο. 

Η Cyta μπορεί να βάζει μια κατ' επιλογή ΚΕ σε κατάσταση Execution, νοουμένου ότι έχουν δηλωθεί τα δύο συνεργεία. Αυτό μπορεί να γίνει από τις ιστοσελίδες και από το API. Μαζικό Execution γίνεται μόνο με το API. Κανονικά το μαζικό Execution θα γίνεται αυτόματα κάθε πρωί. 

Επίσης, το UI μπορεί να δεί τα συνημμένα αρχεία της ΚΕ και να μπουν πρόσθετα σχόλια, ενώ αυτό δεν έχει υλοποιηθεί στο API. Αυτό μπορεί να εξεταστεί ανάλογα και με την χρήση που θα γίνει στο UI.
<span style="color:red"> Πρέπει να υπάρχει προσοχή να γίνεται παραλληλισμός των χαρακτηριστικών του UI με το API και όπου δεν υπάρχει να γίνεται η ανάλογη διόρθωση.</span>

Για την καλύτερη τεκμηρίωση, έχουν γίνει ξεχωριστές εντολές δημιουργίας των ΚΕ για παρόχους και Cyta. 


##### Βοηθητικά Κείμενα
Η επόμενη ενότητα κάτω από το όνομα του χρήστη είναι τα βοηθητικά κείμενα για το API και το UI, δηλαδή το παρόν κείμενο.

##### (System or User) Settings
Στο επόμενο διάζωμα κάτω από το όνομα του χρήστη υπάρχουν τα  Settings, όπου θα πρέπει και ανάλογα με τον ρόλο του χρήστη να μπορεί να κάνει αλλαγές. Αυτό σήμερα δεν κάνει κάτι. Θα δούμε αν θα απαιτηθεί στην συνέχεια.

##### Αλλαγή Γλώσσας
Στο επόμενο διάζωμα κάτω από το όνομα του χρήστη είναι η επιλογή Αγγλικής και Ελληνικής γλώσσας. 

##### Έξοδος
Στο επόμενο διάζωμα κάτω από το όνομα του χρήστη είναι η επιλογή Έξοδος από το σύστημα.


#### Σελίδα των Visits
Η σελίδα με τις ΚΕ (Visits) χωρίζεται σε δύο. Στα Φίλτρα (Query) και την λίστα των ΚΕ με το αποτέλεσμα του φιλτραρίσματος.

##### Φίλτρα
Να σημειωθεί ότι ο κάθε χρήστης μπορεί να δει μόνο τις ΚΕ που αφορούν την εταιρεία του ή και που του επιτρέπει ο ρόλος του. Τα φίλτρα είναι προσθετικά και περιορίζουν την λίστα των ΚΕ που θα δει ακόμη περισσότερο.

Στο αριστερό μέρος του τμήματος των φίλτρων υπάρχει ένα drop-down menu με πράσινη ένδειξη το οποίο αφορά την πρόσθεση φίλτρων. Το default φίλτρο είναι αυτό του sorting των ΚΕ, με το οποίο επιλέγεται κάποιο πεδίο για αύξουσα ή μείουσα ταξινόμηση. 

Επιλέγοντας από το πάνω πεδίο που βρίσκεται δίπλα στο πράσινο κουμπί το φίλτρο που θέλουμε και κάνοντας κλικ στο πράσινο κουμπί προστίθεται και άλλο φίλτρο που θέλει ο χρήστης. Με τον ίδιο τρόπο μπορεί να προσθέσει ακόμη μερικά φίλτρα. Όταν ο χρήστης προσθέσει τα φίλτρα μπορεί να κάνει διάφορες επιλογές, ανάλογα με το φίλτρο. Σε περίπτωση που υπάρχει λίστα με επιλογές τότε αυτές επιλέγονται με click ή ctl-click για πολλαπλή επιλογή.

Για να αφαιρέσει ο χρήστης ένα φίλτρο μπορεί να πατήσει στο κόκκινο καλάθι που βρίσκεται στο κάτω μέρος του φίλτρου.

Για να εφαρμοστεί το τελικό αποτέλεσμα των επιλογών των φίλτρων πρέπει να πατηθεί το Εφάρμοσε Φίλτρο (Apply Filter). 

Να σημειωθεί ότι το αποτέλεσμα μπορεί να παρουσιαστεί και σε αρχείο csv, πατώντας στο πλήκτρο "Εξαγωγή αποτελεσμάτων σε αρχείο τύπου csv". Στο αρχείο αυτό εμφανίζονται όλα τα χαρακτηριστικά της ΚΕ.

Υπάρχει δυνατότητα αποθήκευσης του φίλτρου, πατώντας το πλήκτρο "Χρήση Αποθήκευση φίλτρου". Το φίλτρο αυτό μπορεί να επαναχρησιμοποιηθεί από το μενού "Φίλτρα" που βρίσκεται στην κορυφή της σελίδας. Μπορεί μάλιστα το φίλτρο (ερώτηση) να γίνει κοινόχρηστο με άλλους χρήστες του συστήματος.

##### Αποτελέσματα Φίλτρου
Τα αποτελέσματα του φίλτρου φαίνονται στο δεύτερο κομμάτι της σελίδας. Στον πίνακα παρουσιάζονται τα πιο σημαντικά στοιχεία των ΚΕ. Ανάλογα με τις ανάγκες που θα διατυπωθούν η λίστα αυτή μπορεί να αλλάζει. <span style="color:red">Αν υπάρχουν ανάγκες να υπάρχουν διαφορετικές στήλες ανά ρόλο μπορούμε να το δούμε. Σίγουρα δεν είναι πρακτικό ο καθένας να βλέπει και κάτι διαφορετικό με προσωπικά settings. Γενικά το θέμα αυτό πρέπει να το δούμε όταν θα έχουμε τις ανάγκες του προσωπικού.</span>

Υπάρχει μηχανισμός paging, έτσι που να δείχνονται λίγα-λίγα τα αποτελέσματα στην περίπτωση που είναι πολλά. Η εφαρμογή αποστέλλει ολόκληρη την λίστα με βάση τα φίλτρα και η σελίδα είναι υπεύθυνη για το paging. Στην περίπτωση του API το paging γίνεται από τον server. Στην περίπτωση του UI το paging γίνεται από τον browser. <span style="color:red">Πρέπει να εισαχθεί περιορισμός των αποτελεσμάτων που αποστέλλονται μέσα από το API και την ιστοσελίδα με βάση την ημερομηνία δημιουργίας τους. Αυτό πρέπει να γίνει νοουμένου ότι οι παλιές περιπτώσεις θα μπορούν να βρεθούν από το Data Warehouse όταν χρειάζονται.</span>

Υπάρχει scroll για αριστερά-δεξιά στην λίστα, έτσι που να μπορεί κάποιος να δει και όλα τα στοιχεία των ΚΕ. Οι στήλες είναι περιορισμένες, αλλά μπορούμε με την δυνατότητα του scroll να βάλουμε και άλλες. 

Υπάρχει δυνατότητα ταξινόμησης σε κάθε στήλη. Υπάρχει και κεντρικό search πάνω από την λίστα στην δεξιά πλευρά.

Να σημειωθεί ότι η λίστα, τα φίλτρα και το search στηρίζονται στα Datatables.js και γι' αυτό είναι και πολύ εύχρηστα και ευέλικτα. Επίσης, η λίστα υποστηρίζει και το copy-paste σε Excel.

Στην αριστερή πλευρά της λίστας των ΚΕ υπάρχει ένα link με μπλε χρώμα και όταν πατηθεί με κλικ, μας οδηγεί στις λεπτομέρειες της ΚΕ.  

Τα συνεργεία των επαρχιών βλέπουν τις ΚΕ που τους έχουν χρεωθεί, αλλά και αυτές που έχουν δημιουργήσει οι ίδιοι. Με τον τρόπο αυτό μπορούν να αναθέσουν μια εργασία σε άλλο συνεργείο.


##### Αναφορές (Reports)
Η σελίδα αυτή έχει στην αρχή ο Αιτητής και ο Παραλήπτης τι έχουν ανάλογα με την κατάσταση της κάθε ΚΕ. Για παράδειγμα μπορούν εύκολα να δούν τι έχουν Pending, ή τι είναι σε Execution κτλ.

Στο τέλος της σελίδας υπάρχουν και μερικές έτοιμες αναφορές που μπορούν να γίνουν download.

#### Δημιουργία ΚΕ

Τόσο η δημιουργία όσο και η επεξεργασία μιας ΚΕ έχουν από μια ιστοσελίδα. Όμως ανάλογα με την περίπτωση έχουν διαφορετικές φόρμες προς συμπλήρωση.

Υπάρχουν δύο φόρμες για την Cyta και δύο φόρμες για τον Πάροχο. Η μιά φόρμα αφορά Επιθεώρηση (Survey) και η άλλη αφορά Τεχνικές εργασίας Εγκατάστασης, Βλάβης και Υπόδειξης Κυκλώματος.

Για περισσότερο αυτοματισμό και περιορισμό των δεδομένων που πρέπει ο χρήστης να εισάγει, χρησιμοποιείται εξωτερικό API το οποίο επιστρέφει την διεύθυνση και άλλα στοιχεία κυκλωμάτων και αιτήσεων που απαιτούνται για την ΚΕ. Το σύστημα κάνει consume API το οποίο εξομοιώνει το πραγματικό. <span style="color:red">Με την παράδοση του κανονικού API θα απαιτείται μόνο μια απλή σύνδεση, με αλλαγή του URL και των credentials.

Αν την ΚΕ την δημιουργήσει συνεργείο από την ίδια επαρχία που είναι και το κύκλωμα, τότε το συγκεκριμένο συνεργείο μπαίνει αυτόματα ως συνεργείο στην ΚΕ.<span style="color:red">Να γίνει και στο API.</span>

Αν κατά την δημιουργία της ΚΕ δεν δοθεί ημερομηνία μπαίνει αυτόματα από το σύστημα η επόμενη εργάσιμη ημέρα.<span style="color:red">Να γίνει και στο API.</span>

Δεν μπορούν να υπάρξουν πέραν της μιας ΚΕ για κάθε κύκλωμα/διατακτικό.<span style="color:red">Να εξεταστεί και στο API. Ενδεχόμενα η αυτόματη ημερομηνία να πρέπει να μπαίνει ανάλογα και με τον τύπο της ΚΕ.</span>

Όταν μπαίνει αίτηση ΚΕ για Βλάβη, πρέπει να υπάρχει ήδη αίτηση για βλάβη στο TFO και να είναι ανοιχτή (ή αν δεν υπάρχει η δυνατότητα να είναι λίγων ημερών) <span style="color:red"> Στα συμπληρωματικά δεδομένα πρέπει να δίνεται κατά πόσο η τελευταία αναφερόμενη βλάβη είναι ανοιχτή ή όχι στο TFO.</span> 

<span style="color:red"> Οι δύο πιο πάνω συνθήκες δυσκολεύουν τις δοκιμές. Πρέπει να γίνονται διαγραφές ΚΕ και ενημέρωση της ημερομηνίας καταχώρησης της βλάβης. 


#### Σελίδα Επεξεργασίας ΚΕ

Η σελίδα επεξεργασίας ΚΕ είναι όταν βλέπει κάποιος χρήστης του αιτητή ή του παραλήπτη την κατάσταση που βρίσκεται μια ΚΕ. Δηλαδή αν πούμε ότι έχουμε δημιουργό ΚΕ και τρέχοντα χρήστη, έχουμε τέσσερις συνδυασμούς ως προς τις εταιρείες. Για παράδειγμα Cyta/Cyta είναι όταν ο δημιουργός της ΚΕ είναι κάποιος της Cyta και ο τρέχον χρήστης είναι της Cyta. Για παράδειγμα Other/Cyta είναι όταν ο δημιουργός είναι κάποιος άλλος Πάροχος και ο τρέχον χρήστης είναι της Cyta. Έχοντας αυτούς τους 4 συνδυασμούς και τις 8 καταστάσεις που μπορεί να βρεθεί μια ΚΕ, αντιλαμβάνεστε ότι υπάρχουν 32 διαφορετικές εικόνες (φόρμες) που μπορεί να δει κάποιος χρήστης. Από κάθε εικόνα μπορεί να υπάρξουν μεταβάσεις σε άλλες εικόνες. 

Οι μεταβάσεις από την μια κατάσταση στην άλλη μας βοηθούν να ολοκληρώσουμε μια ΚΕ. Το σύστημα είναι τόσο απλό που ο χρήστης μπορεί να δει τις μεταβάσεις όταν το χρησιμοποιεί, χωρίς να χρειάζεται εκπαίδευση.

 Περισσότερες πληροφορίες είναι διαθέσιμες για τους διαχειριστές των προγραμμάτων σε άλλο κείμενο για τις [Μεταβάσεις](../transitions/ ).

 Το execute που γίνεται για συγκεκριμένο CV εξετάζει το CV και αν δεν έχει cv_date ή αν αυτό έχει παλαιότερη ημερομηνία, και του βάζει την σημερινή ημερομηνία. <span style="color:red">Να εξεταστεί και στο API. Να γίνει το ίδιο και για το μαζικό Execute στο API, αλλά και όταν θα γίνεται αυτόματα κάθε πρωί.</span>
 
#### Ανάθεση Όρων σε κυκλώματα του Παρόχου <span style="color:red">Να γίνει και στο API.</span>
Σε περίπτωση που το συνεργείο της Cyta δει ότι υπάρχει ανάγκη ο Πάροχος να κάνει κάποια ενέργεια για να μπορέσει να συνεχίσει την εργασία βάζει Όρο στο Κύκλωμα.

Μπορούν να υπάρχουν μέχρι 8 όροι, οι πιο νέοι στο σύστημα για κάθε κύκλωμα.

Ο Πάροχος βλέπει τους Όρους που τίθενται και τους εκπληρώνει στην πράξη και δεν μπορεί ο ίδιος να τους διαγράψει στο σύστημα. Όταν εκπληρώσει τους όρους που αφορούν ένα κύκλωμα, πρέπει ο Πάροχος να βάλει ΚΕ και να δηλώσει τι έχει κάνει. Αν θέλει μπορεί να ζητήσει να γίνει ΚΕ χωρίς την παρουσία του. Η επόμενη επίσκεψη είναι ΕΕ και χρεώνεται ότι και να γίνει.

Αν κατά την ΚΕ φανεί ότι ο Πάροχος δεν έχει ικανοποιήσει τους Όρους, αυτοί μένουν στον σύστημα.

Σε περίπτωση που κατά την ΚΕ υπάρχουν όροι που εκπληρώθηκαν θα πρέπει το συνεργείο να τους Ολοκληρώσει και μέσα στο σύστημα ΚΕ, διότι αλλιώς δεν θα μπορεί να ολοκληρώσει την φόρμα της ΚΕ. Σε περίπτωση που δεν εκπληρώθηκαν κάποιοι όροι αυτοί θα μείνουν ανοιχτή στο σύστημα και θα φαίνονται στην φόρμα, η οποία θα μπορεί να αποθηκευτεί κανονικά.  <span style="color:red"> Αυτό θα γίνεται και στο API.</span> 

Τους όρους τους βλέπουν όλοι της Cyta και του Παρόχου που ανήκει το κύκλωμα. Μόνο το συνεργείο της Cyta που κάνει την επιτόπου συμπλήρωση της φόρμας μιας ΚΕ μπορεί να ολοκληρώσει κάποιο όρο και ο superuser μέσα από το admin panel.

Κατά την ανάθεση όρων σε κάποιο κύκλωμα θα καταγράφεται και ο τρέχον Πάροχος ή και άλλα στοιχεία από τα συμπληρωματικά στοιχεία. Αυτό γίνεται με την βοήθεια του webservice για τα συμπληρωματικά στοιχεία. Μπαίνει και η Επαρχία και αν χρειαστεί θα μπουν και άλλα συμπληρωματικά χαρακτηριστικά. Θέλει προσοχή να μην μπουν λανθασμένα στοιχεία Παρόχου και Επαρχίας σε ανοιχτό όρο κάποιου κυκλώματος.

Στις ιστοσελίδες οι "Όροι" ανοίγουν μια φόρμα με την οποία μπορούν να γίνουν όλες οι σχετικές εργασιες. Δηλαδή, μπορεί να προστεθεί όρος σε κάποιο κύκλωμα, να δοθούν οι όροι για κάποιο κύκλωμα, ή να δοθούν όλοι οι όροι για όλα τα κυκλώματα.

Όταν η ΚΕ βρίσκεται σε κατάσταση Execution το συνεργείο μπορεί να βάλει όρο είτε με τον αριθμό κυκλώματος για τις Τεχνικές ΚΕ, είτε με τον αριθμό διατακτικού όταν γίνεται ΚΕ Επιθεώρησης. Το θέμα είναι όταν μετά την Επιθεώρηση το διατακτικό παράξει και αριθμό κυκλώματος θα πρέπει να ελέγχονται και οι δυο αριθμοί κατά πόσο έχουν όρους πάνω τους. 

Κατά την πρώτη επίσκεψη του συνεργείου μπορούν να προστεθούν όροι στον αριθμό κυκλώματος ή στον αριθμό διατακτικού. Το ίδιο μπορεί να συμβεί και σε κάποια ΚΕ στην οποία υπάρχουν εμπόδια που πρέπει να διορθώσει ο Πάροχος. Και στις δύο περιπτώσεις ο σχετικός αριθμός μπαίνει χειροκίνητα στην ιστοσελίδα "Όροι".  Υπάρχει link στο Execution μιας ΚΕ για να μπορεί να μπει ο αριθμός κυκλώματος ή διατακτικού αυτόματα και να προστεθεί με το χέρι μόνο ο Όρος. 

Ο Πάροχος αιτητής μιας ΚΕ θα πρέπει να εξετάζει αν υπάρχουν προηγούμενοι όροι.  <span style="color:red"> Ίσως ο Πάροχος να πρέπει να υπενθυμίζεται αυτόματα ότι υπάρχουν όροι σε κάποια ΚΕ την ώρα που την στέλνει ως Pending μέσω των ιστοσελίδων. 

Οι όροι "μεταφέρονται" αυτόματα από το διατακτικό και την Επιθεώρηση στο κύκλωμα και στις Τεχνικές ΚΕ. Αυτό επιτυγχάνεται μέσω των συμπληρωματικών στοιχείων.

Οι όροι να φαίνονται σε όλες τις φάσεις της έγκρισης. Αυτό θα επιτρέψει στην Cyta αν θέλει να βάλει όρο κατά την διάρκεια της αίτησης. 

<span style="color:red">Καλό είναι να μπαίνει ένα κόκκινο σημάδι όταν υπάρχουν όροι στο κύκλωμα ή στο διατακτικό. Αυτό πρέπει να το εξετάζει το view και να στέλνει ειδικό σήμα. 

<span style="color:red">Η ολοκλήρωση όρων τώρα γίνεται από όλο το staff. Ίσως να πρέπει να γίνεται μόνο από το συνεργείο και μάλιστα στη φάση του Execution μόνο.


#### Μόνο μια ανοιχτή ΚΕ για κάθε κύκλωμα/διατακτικό
Δεν μπορεί να δημιουργηθεί ΚΕ όταν υπάρχει άλλη ανοιχτή για το ίδιο κύκλωμα/διατακτικό.<span style="color:red">Να γίνει και στο API.</span>


#### Ανοικτά Θέματα (Issues)
 <span style="color:red">Δημιουργήθηκε ΚΕ για βλάβη χωρίς να υπάρχει βλάβη στο TFO. Έχει διορθωθεί στις ιστοσελίδες.<span style="color:red">Να γίνει και στο API.</span>

 Ο δημιουργός της αίτησης πρέπει να ενημερώνεται όταν ολοκληρώνεται η ΚΕ, εκτός αν είναι το  ίδιο το συνεργείο που έκανε την ολοκλήρωση.

 Πρέπει να αλλάξει ο μηχανισμός της αλλαγής ημερομηνίας. Ημερομηνία να δικαιούται να αλλάζει αυτός που έκανε την αίτηση κάνοντας την αίτηση να πάει σε Pending. Ο παραλήπτης της αίτησης να στέλνει αίτηση για αλλαγή ημερομηνίας. Όταν την κάνει αποδεχτεί ο αιτητής να την κάνει Pending με την νέα ημερομηνία. Αυτό πρέπει να γίνει και στο API.
 Σήμερα το Proposed date το γεμίζει 
 
-------------------------
Cyta
